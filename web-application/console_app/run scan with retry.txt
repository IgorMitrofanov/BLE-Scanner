    async def run(self):
        try:
            print(f'\t\tStarted scanning with {self.timeout} seconds timeout...')
            await self._scanner.start()
            self.scanning.set()
            end_time = self.loop.time() + self.timeout
            while self.scanning.is_set():
                if self.loop.time() > end_time or len(self.dc.device_names) == 0:
                    self.scanning.clear()
                    if len(self.dc.device_names) == 0:
                        print('All devices have been found.')
                        return
                    else:
                        answer = input(f"Timeout. Can't find all devices ({len(self.dc.device_names)*100/self.dc.start_len:.2f}%). Do you want to scan again? (Y/N): ").lower()
                        if answer == 'y':
                            self.scanning.set()
                            end_time = self.loop.time() + self.timeout
                            print(f'\t\tStarted scanning with {self.timeout} seconds timeout...')
                        else:
                            print(f"Scan terminated. Devices no found: {self.dc.device_names}")
                else:
                    await asyncio.sleep(0.1)
            await self._scanner.stop()
        except Exception as e:
            print(f"Error in run (scanner): {e}")